---
import BaseLayout from "@layouts/BaseLayout.astro";

import ROUTES from "@routes";

import loadOfficesData from "@features/reservation/loaders/officesLoader";

import type { OfficeFields } from "@features/reservation/types";

interface Props {
  slug: string;
}

const officesData = await loadOfficesData();

const { slug } = Astro.props;

const office = officesData.list.find(
  (office) => office.slug === slug,
) as OfficeFields;
---

<BaseLayout
  currentPage={ROUTES.reservation}
  fontsToPreload={[
    "poppins-200",
    "poppins-300",
    "poppins-500",
    "poppins-regular",
  ]}
  metaDescription={office.metaDescription}
  metaTitle={office.metaTitle}
>
  <slot />
</BaseLayout>
