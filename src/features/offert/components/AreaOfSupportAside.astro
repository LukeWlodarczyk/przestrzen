---
import Heading from "@components/typography/Heading.astro";

import Button from "@components/interactive/Button.astro";

import OffertCardPreview from "@features/offert/components/OffertCardPreview.astro";

import { DYNAMIC_ROUTES, STATIC_ROUTES } from "@routes";

import type { AreaOfSupport } from "@features/offert/types";

interface Props {
  heading: string;
  formsOfSupport: AreaOfSupport[];
}

const { heading, formsOfSupport } = Astro.props;
---

<Heading
  className="ml-(--space-2xs) font-light text-balance text-forest-green xl:text-sm"
  level={3}
>
  {heading}
</Heading>

<ul
  class="mt-(--space-s-m) flex flex-row gap-(--space-s-m) overflow-x-scroll p-1 pb-(--space-xs-s) xl:flex-col xl:overflow-x-auto xl:pb-1"
>
  {
    formsOfSupport.map((form) => (
      <OffertCardPreview
        className="min-w-[min(100%,350px)] xl:min-w-[300px]"
        description={form.description}
        href={DYNAMIC_ROUTES.formOfSupport(form.slug)}
        label={form.name}
      />
    ))
  }
</ul>

<Button
  className="icon-left-['üéóÔ∏è'] icon-right-['üéóÔ∏è'] mt-(--space-m-l) w-full xl:mt-(--space-s-m) xl:before:hidden xl:after:hidden"
  href={STATIC_ROUTES.formOfSupport}
  variant="tertiary">Pe≈Çne spektrum form</Button
>
