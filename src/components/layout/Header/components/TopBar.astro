---
import Section from "@components/layout/Section.astro";

import { STATIC_ROUTES } from "@routes";

import loadCompanyDetails from "@features/contact/loaders/companyDetailsLoader";

interface Props {
  id: string;
}

const { id } = Astro.props;

const { office } = await loadCompanyDetails();
---

<Section
  as="div"
  className="noise-30 isolate flex h-(--app-header-top-bar-height) border-b border-deep-green/10 bg-muted-green py-0"
  containerClassName="flex items-center"
  id={id}
>
  <a
    class="sr-only text-xs text-deep-green outline-none focus:not-sr-only focus:text-warm-yellow"
    href="#main"
  >
    Przejdź do treści głównej
  </a>

  <div class="ml-auto flex flex-wrap items-center gap-x-(--space-xs)">
    <a
      class="group inline-flex items-center gap-(--space-3xs) text-xs text-deep-green outline-none"
      href={STATIC_ROUTES.contact}
    >
      <span aria-label="Adres" class="inline-block text-sm">📍</span>
      <span
        class="group-hover:text-warm-yellow group-hover:underline group-focus:text-warm-yellow group-focus:underline"
      >
        {office.streetAddress}, {office.addressLocality}
      </span>
    </a>

    <a
      class="group hidden items-center gap-(--space-3xs) text-xs text-deep-green outline-none sm:inline-flex"
      href={`tel:${office.telephone}`}
    >
      <span aria-label="Telefon" class="hidden text-sm sm:inline-block">📞</span
      >
      <span
        class="group-hover:text-warm-yellow group-hover:underline group-focus:text-warm-yellow group-focus:underline"
      >
        {office.telephone}
      </span>
    </a>

    <a
      class="group hidden items-center gap-(--space-3xs) text-xs text-deep-green outline-none lg:inline-flex"
      href={`mailto:${office.email}`}
    >
      <span aria-label="Email" class="hidden text-base lg:inline-block">
        ✉️
      </span>
      <span
        class="group-hover:text-warm-yellow group-hover:underline group-focus:text-warm-yellow group-focus:underline"
      >
        {office.email}
      </span>
    </a>
  </div>
</Section>
